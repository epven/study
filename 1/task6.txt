Убидитесь в том, что выражение getchar() != EOF получает значение 0 или 1
